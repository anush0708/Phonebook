(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{23:function(e,t,n){},24:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),o=n(17),a=n.n(o),i=(n(23),n(18)),u=n(3),s=(n(24),n(0)),l=function(e){var t=e.persons,n=e.setFilter,c=e.setFilteredPersons,r=e.setName;return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Filter function"}),"search Filter ",Object(s.jsx)("input",{onChange:function(e){r(e.target.value),e.target.value.length>0?n(!0):n(!1),c(t.filter((function(t){return t.name.includes(e.target.value)})))}})]})},j=function(e){var t=e.persons,n=e.deleteContact;return Object(s.jsx)("div",{className:"details",children:t?t.map((function(e){return Object(s.jsxs)("li",{children:[e.name," : ",e.number," ",Object(s.jsx)("button",{onClick:n,value:e.name,children:"delete"})," "]},e.id)})):Object(s.jsx)("p",{children:"Nothing to show"})})},b=n(6),d=n(5),f=n.n(d),h="/api/persons",O={getAll:function(){return f.a.get(h).then((function(e){return e.data}))},create:function(e){return f.a.post(h,e).then((function(e){return e.data}))},deleteContact:function(e){var t=f.a.delete("".concat(h,"/").concat(e));return console.log("deleting"),t.then((function(e){return e.data}))},update:function(e,t){var n=f.a.put("".concat(h,"/").concat(e),t);return console.log("updating in server"),n.then((function(e){return e.data}))}},m=function(e){var t=e.persons,n=e.setPersons,r=e.isFilter,o=e.search,a=e.updateContact,i=e.setPopUp,l=Object(c.useState)({name:null,number:0}),j=Object(u.a)(l,2),d=j[0],f=j[1];return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("form",{onSubmit:function(e){e.preventDefault(),d.name&&d.number?0!==t.filter((function(e){return e.name===d.name})).length?a(d):O.create(d).then((function(e){n(t.concat(e)),i(" ".concat(e.name,"  is  added to phonebook")),setTimeout((function(){i(null)}),5e3)})):alert("one of the field is empty please re-enter"),r?o(d):s.Fragment},children:[Object(s.jsx)("label",{children:"Name"})," ",Object(s.jsx)("br",{})," ",Object(s.jsx)("input",{onChange:function(e){return f(Object(b.a)(Object(b.a)({},d),{},{name:e.target.value}))}}),Object(s.jsx)("br",{}),Object(s.jsx)("label",{children:"number"}),Object(s.jsx)("br",{})," ",Object(s.jsx)("input",{onChange:function(e){return f(Object(b.a)(Object(b.a)({},d),{},{number:e.target.value}))}}),Object(s.jsx)("br",{}),Object(s.jsx)("button",{type:"submit",children:"ADD"})]})})},p=function(e){var t=e.noti;return null==t?null:Object(s.jsxs)("div",{className:"notification",children:[t," "]})},x=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),n=t[0],r=t[1],o=Object(c.useState)(),a=Object(u.a)(o,2),b=a[0],d=a[1],f=Object(c.useState)([]),h=Object(u.a)(f,2),x=h[0],g=h[1],v=Object(c.useState)(""),F=Object(u.a)(v,2),C=F[0],w=F[1],k=Object(c.useState)([]),P=Object(u.a)(k,2),S=P[0],N=P[1];Object(c.useEffect)((function(){O.getAll().then((function(e){return g(e)}))}),[]);return Object(s.jsxs)("div",{className:"phonebook",children:[Object(s.jsx)("h2",{children:"Phonebook"}),Object(s.jsx)(l,{persons:x,setFilter:r,setFilteredPersons:N,setName:w}),Object(s.jsx)(p,{noti:b}),Object(s.jsx)("h3",{children:"Add a new "}),Object(s.jsx)(m,{persons:x,setPersons:g,isFilter:n,search:function(e){var t=Object(i.a)(x);t.push(e),N(t.filter((function(e){return e.name.includes(C)})))},updateContact:function(e){var t=x.find((function(t){return t.name===e.name}));window.confirm(" ".concat(e.name," already exists in your phonebook.Do you want to replace old number with new number?"))&&O.update(t.id,e).then((function(e){return g(x.map((function(n){return n.id===t.id?e:n})))}))},setPopUp:d}),Object(s.jsx)("h3",{children:"Numbers"}),Object(s.jsx)(j,{persons:n?S:x,deleteContact:function(e){var t=x.find((function(t){return t.name===e.target.value})),n=window.confirm("do you want to delete ".concat(t.name));n&&O.deleteContact(t.id).then((function(e){return console.log(e,"deleted")})),n&&g(x.filter((function(e){return e.id!==t.id})))}})]})},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,45)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),o(e),a(e)}))};a.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(x,{})}),document.getElementById("root")),g()}},[[44,1,2]]]);
//# sourceMappingURL=main.37cca08d.chunk.js.map